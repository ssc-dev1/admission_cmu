<?xml version="1.0" encoding="utf-8"?>
<odoo>
	<data noupdate="1">

     <record model="ir.module.category" id="module_category_odoocms_registration">
        <field name="name">CMS Registration</field>
        <field name="description">Helps you handle your CMS Registration needs.</field>
        <field name="sequence">12</field>
     </record>

	 <record id="group_registration_user" model="res.groups">
        <field name="name">Odoo CMS Registration User</field>
        <field name="category_id" ref="odoocms_registration.module_category_odoocms_registration"/>
         <field name="implied_ids" eval="[(4, ref('odoocms.group_cms_user'))]"/>
    </record>


    <record id="group_registration_coordinator" model="res.groups">
        <field name="name">Odoo CMS Registration Coordinator</field>
        <field name="category_id" ref="odoocms_registration.module_category_odoocms_registration"/>
        <field name="implied_ids" eval="[(4, ref('odoocms_registration.group_registration_user'))]"/>
    </record>


    <record id="group_registration_manager" model="res.groups">
        <field name="name">Odoo CMS Registration Manager</field>
        <field name="category_id" ref="odoocms_registration.module_category_odoocms_registration"/>
        <field name="implied_ids" eval="[(4, ref('odoocms_registration.group_registration_coordinator'))]"/>
    </record>

    <record id="group_batch_section" model="res.groups">
        <field name="name">Batch Sections</field>
        <field name="category_id" ref="base.module_category_hidden"/>
    </record>

    <record id="odoocms_batch_cmsuser_rule" model="ir.rule">
        <field name="name">Batch Access for CMS Users</field>
        <field name="model_id" ref="model_odoocms_batch"/>
        <field name="global" eval="False"/>
        <field name="domain_force">[('program_id.user_ids','in',[user.id])]</field>
        <field name="groups" eval="[(4, ref('odoocms.group_cms_user'))]"/>
    </record>

    <record id="odoocms_batch_cmsmanager_rule" model="ir.rule">
        <field name="name">Batch Access for CMS Manager</field>
        <field name="model_id" ref="model_odoocms_batch"/>
        <field name="global" eval="False"/>
        <field name="domain_force">[(1,'=',1)]</field>
        <field name="groups" eval="[(4, ref('odoocms.group_cms_manager'))]"/>
    </record>

    <record id="odoocms_class_cmsuser_rule" model="ir.rule">
        <field name="name">Component Class Access for CMS Users</field>
        <field name="model_id" ref="model_odoocms_class"/>
        <field name="global" eval="False"/>
        <field name="domain_force">[('batch_id.program_id.user_ids','in',[user.id])]</field>
        <field name="groups" eval="[(4, ref('odoocms_registration.group_registration_user'))]"/>
    </record>

    <record id="odoocms_class_cmsmanager_rule" model="ir.rule">
        <field name="name">Component Class Access for CMS Manager</field>
        <field name="model_id" ref="model_odoocms_class"/>
        <field name="global" eval="False"/>
        <field name="domain_force">[(1,'=',1)]</field>
        <field name="groups" eval="[(4, ref('odoocms_registration.group_registration_manager'))]"/>
    </record>


    <record id="odoocms_primary_class_cmsuser_rule" model="ir.rule">
        <field name="name">Primary Class Access for CMS Users</field>
        <field name="model_id" ref="model_odoocms_class_primary"/>
        <field name="global" eval="False"/>
        <field name="domain_force">[('batch_id.program_id.user_ids','in',[user.id])]</field>
        <field name="groups" eval="[(4, ref('odoocms_registration.group_registration_user'))]"/>
    </record>

    <record id="odoocms_primary_class_cmsmanager_rule" model="ir.rule">
        <field name="name">Primary Class Access for CMS Manager</field>
        <field name="model_id" ref="model_odoocms_class_primary"/>
        <field name="global" eval="False"/>
        <field name="domain_force">[(1,'=',1)]</field>
        <field name="groups" eval="[(4, ref('odoocms_registration.group_registration_manager'))]"/>
    </record>


    <record id="odoocms_grade_class_cmsuser_rule" model="ir.rule">
        <field name="name">Grade Class Access for CMS Users</field>
        <field name="model_id" ref="model_odoocms_class_grade"/>
        <field name="global" eval="False"/>
        <field name="domain_force">[('batch_id.program_id.user_ids','in',[user.id])]</field>
        <field name="groups" eval="[(4, ref('odoocms_registration.group_registration_user'))]"/>
    </record>

    <record id="odoocms_grade_class_cmsmanager_rule" model="ir.rule">
        <field name="name">Grade Class Access for CMS Manager</field>
        <field name="model_id" ref="model_odoocms_class_grade"/>
        <field name="global" eval="False"/>
        <field name="domain_force">[(1,'=',1)]</field>
        <field name="groups" eval="[(4, ref('odoocms_registration.group_registration_manager'))]"/>
    </record>

    <record id="odoocms_course_registration_cmsuser_rule" model="ir.rule">
        <field name="name">Course Registration Access for CMS Users</field>
        <field name="model_id" ref="model_odoocms_course_registration"/>
        <field name="global" eval="False"/>
        <field name="domain_force">[('program_id.user_ids','in',[user.id])]</field>
        <field name="groups" eval="[(4, ref('odoocms_registration.group_registration_user'))]"/>
    </record>

    <record id="odoocms_course_registration_cmsmanager_rule" model="ir.rule">
        <field name="name">Course Registration Access for CMS Manager</field>
        <field name="model_id" ref="model_odoocms_course_registration"/>
        <field name="global" eval="False"/>
        <field name="domain_force">[(1,'=',1)]</field>
        <field name="groups" eval="[(4, ref('odoocms_registration.group_registration_manager'))]"/>
    </record>

    <record id="odoocms_course_registration_hod_rule" model="ir.rule">
        <field name="name">Course Registration Access for HOD</field>
        <field name="model_id" ref="model_odoocms_course_registration"/>
        <field name="global" eval="False"/>
        <field name="domain_force">[('program_id.department_id.hod_id.user_id','=',user.id)]</field>
        <field name="groups" eval="[(4, ref('odoocms.group_cms_user'))]"/>
    </record>

    <record id="odoocms_course_registration_bulk_cmsuser_rule" model="ir.rule">
        <field name="name">Course Registration Bulk Access for CMS Users</field>
        <field name="model_id" ref="model_odoocms_course_registration_bulk"/>
        <field name="global" eval="False"/>
        <field name="domain_force">[('program_id.user_ids','in',[user.id])]</field>
        <field name="groups" eval="[(4, ref('odoocms_registration.group_registration_user'))]"/>
    </record>

    <record id="odoocms_course_registration_bulk_cmsmanager_rule" model="ir.rule">
        <field name="name">Course Registration Bulk Access for CMS Manager</field>
        <field name="model_id" ref="model_odoocms_course_registration_bulk"/>
        <field name="global" eval="False"/>
        <field name="domain_force">[(1,'=',1)]</field>
        <field name="groups" eval="[(4, ref('odoocms_registration.group_registration_manager'))]"/>
    </record>

    <record id="odoocms_student_course_cmsuser_rule" model="ir.rule">
        <field name="name">Student Course Access for CMS Users</field>
        <field name="model_id" ref="model_odoocms_student_course"/>
        <field name="global" eval="False"/>
        <field name="domain_force">['|','|','|',
            ('program_id','=',False),
            ('program_id.user_ids','in',[user.id]),
            ('batch_id.user_ids','in',[user.id]),
            ('primary_class_id.batch_id.program_id.user_ids','in',[user.id])
        ]</field>
        <field name="groups" eval="[
            (4, ref('odoocms_registration.group_registration_user')),
            (4, ref('odoocms.group_cms_advisor'))
        ]"/>
    </record>

    <record id="odoocms_student_course_cmsmanager_rule" model="ir.rule">
        <field name="name">Student Course Access for CMS Manager</field>
        <field name="model_id" ref="model_odoocms_student_course"/>
        <field name="global" eval="False"/>
        <field name="domain_force">[(1,'=',1)]</field>
        <field name="groups" eval="[(4, ref('odoocms_registration.group_registration_manager'))]"/>
    </record>

    <record id="odoocms_student_term_cmsuser_rule" model="ir.rule">
        <field name="name">Student Term Access for CMS Users</field>
        <field name="model_id" ref="model_odoocms_student_term"/>
        <field name="global" eval="False"/>
        <field name="domain_force">['|','|',('program_id','=',False),('program_id.user_ids','in',[user.id]),('batch_id.user_ids','in',[user.id])]</field>
        <field name="groups" eval="[
            (4, ref('odoocms_registration.group_registration_user')),
            (4, ref('odoocms.group_cms_advisor'))
        ]"/>
    </record>

    <record id="odoocms_student_term_cmsmanager_rule" model="ir.rule">
        <field name="name">Student Term Access for CMS Manager</field>
        <field name="model_id" ref="model_odoocms_student_term"/>
        <field name="global" eval="False"/>
        <field name="domain_force">[(1,'=',1)]</field>
        <field name="groups" eval="[(4, ref('odoocms_registration.group_registration_manager'))]"/>
    </record>

    <record id="odoocms_batch_term_cmsuser_rule" model="ir.rule">
        <field name="name">Batch Term Access for CMS Users</field>
        <field name="model_id" ref="model_odoocms_batch_term"/>
        <field name="global" eval="False"/>
        <field name="domain_force">['|','|',('program_id','=',False),('program_id.user_ids','in',[user.id]),('batch_id.user_ids','in',[user.id])]</field>
        <field name="groups" eval="[(4, ref('odoocms_registration.group_registration_user'))]"/>
    </record>

    <record id="odoocms_batch_term_cmsmanager_rule" model="ir.rule">
        <field name="name">Batch Term Access for CMS Manager</field>
        <field name="model_id" ref="model_odoocms_batch_term"/>
        <field name="global" eval="False"/>
        <field name="domain_force">[(1,'=',1)]</field>
        <field name="groups" eval="[(4, ref('odoocms_registration.group_registration_manager'))]"/>
    </record>

<!--        <record model="ir.rule" id="odoocms_assessment_template_comp_rule">-->
<!--            <field name="name">Assessment Template multi-company</field>-->
<!--            <field name="model_id" ref="model_odoocms_assessment_template"/>-->
<!--            <field name="domain_force">['|',('company_id','=',False),('company_id', 'in', company_ids)]</field>-->
<!--        </record>-->

        <record model="ir.rule" id="odoocms_class_generator_comp_rule">
            <field name="name">Class Generator multi-company</field>
            <field name="model_id" ref="model_odoocms_class_generator"/>
            <field name="domain_force">['|',('company_id','=',False),('company_id', 'in', company_ids)]</field>
        </record>

        <record model="ir.rule" id="odoocms_class_generator_line_comp_rule">
            <field name="name">Class Generator Line multi-company</field>
            <field name="model_id" ref="model_odoocms_class_generator_line"/>
            <field name="domain_force">['|',('company_id','=',False),('company_id', 'in', company_ids)]</field>
        </record>

        <record model="ir.rule" id="odoocms_course_registration_comp_rule">
            <field name="name">Course Registration multi-company</field>
            <field name="model_id" ref="model_odoocms_course_registration"/>
            <field name="domain_force">['|',('company_id','=',False),('company_id', 'in', company_ids)]</field>
        </record>

        <record model="ir.rule" id="odoocms_course_registration_line_comp_rule">
            <field name="name">Course Registration Line multi-company</field>
            <field name="model_id" ref="model_odoocms_course_registration_line"/>
            <field name="domain_force">['|',('company_id','=',False),('company_id', 'in', company_ids)]</field>
        </record>

        <record model="ir.rule" id="odoocms_course_registration_cross_comp_rule">
            <field name="name">Course Registration Cross multi-company</field>
            <field name="model_id" ref="model_odoocms_course_registration_cross"/>
            <field name="domain_force">['|',('company_id','=',False),('company_id', 'in', company_ids)]</field>
        </record>

        <record model="ir.rule" id="odoocms_course_registration_cross_office_comp_rule">
            <field name="name">Course Registration Cross Office multi-company</field>
            <field name="model_id" ref="model_odoocms_course_registration_cross_office"/>
            <field name="domain_force">['|',('company_id','=',False),('company_id', 'in', company_ids)]</field>
        </record>

        <record model="ir.rule" id="odoocms_course_registration_bulk_comp_rule">
            <field name="name">Course Registration Bulk multi-company</field>
            <field name="model_id" ref="model_odoocms_course_registration_bulk"/>
            <field name="domain_force">['|',('company_id','=',False),('company_id', 'in', company_ids)]</field>
        </record>

        <record model="ir.rule" id="odoocms_course_registration_bulk2_comp_rule">
            <field name="name">Course Registration Bulk2 multi-company</field>
            <field name="model_id" ref="model_odoocms_course_registration_bulk2"/>
            <field name="domain_force">['|',('company_id','=',False),('company_id', 'in', company_ids)]</field>
        </record>

        <record model="ir.rule" id="odoocms_course_drop_comp_rule">
            <field name="name">Course Drop multi-company</field>
            <field name="model_id" ref="model_odoocms_course_drop"/>
            <field name="domain_force">['|',('company_id','=',False),('company_id', 'in', company_ids)]</field>
        </record>

        <record model="ir.rule" id="odoocms_course_shift_comp_rule">
            <field name="name">Course Shift multi-company</field>
            <field name="model_id" ref="model_odoocms_course_shift"/>
            <field name="domain_force">['|',('company_id','=',False),('company_id', 'in', company_ids)]</field>
        </record>

        <record model="ir.rule" id="odoocms_course_shift_reg_comp_rule">
            <field name="name">Course Shift Reg multi-company</field>
            <field name="model_id" ref="model_odoocms_course_shift_reg"/>
            <field name="domain_force">['|',('company_id','=',False),('company_id', 'in', company_ids)]</field>
        </record>

        <record model="ir.rule" id="odoocms_course_change_reg_comp_rule">
            <field name="name">Course Change Reg multi-company</field>
            <field name="model_id" ref="model_odoocms_course_change_reg"/>
            <field name="domain_force">['|',('company_id','=',False),('company_id', 'in', company_ids)]</field>
        </record>

        <record model="ir.rule" id="odoocms_term_scheme_comp_rule">
            <field name="name">Term Scheme multi-company</field>
            <field name="model_id" ref="model_odoocms_term_scheme"/>
            <field name="domain_force">['|',('company_id','=',False),('company_id', 'in', company_ids)]</field>
        </record>

        <record model="ir.rule" id="odoocms_student_registration_load_comp_rule">
            <field name="name">Student Registration Load multi-company</field>
            <field name="model_id" ref="model_odoocms_student_registration_load"/>
            <field name="domain_force">['|',('company_id','=',False),('company_id', 'in', company_ids)]</field>
        </record>

        <record model="ir.rule" id="odoocms_batch_section_comp_rule">
            <field name="name">Batch Section multi-company</field>
            <field name="model_id" ref="model_odoocms_batch_section"/>
            <field name="domain_force">['|',('company_id','=',False),('company_id', 'in', company_ids)]</field>
        </record>

        <record model="ir.rule" id="odoocms_class_grade_comp_rule">
            <field name="name">Grade Class multi-company</field>
            <field name="model_id" ref="model_odoocms_class_grade"/>
            <field name="domain_force">['|',('company_id','=',False),('company_id', 'in', company_ids)]</field>
        </record>

        <record model="ir.rule" id="odoocms_class_primary_comp_rule">
            <field name="name">Primary Class multi-company</field>
            <field name="model_id" ref="model_odoocms_class_primary"/>
            <field name="domain_force">['|',('company_id','=',False),('company_id', 'in', company_ids)]</field>
        </record>

        <record model="ir.rule" id="odoocms_class_primary_couple_comp_rule">
            <field name="name">Couple Primary Class multi-company</field>
            <field name="model_id" ref="model_odoocms_class_primary_couple"/>
            <field name="domain_force">['|',('company_id','=',False),('company_id', 'in', company_ids)]</field>
        </record>

        <record model="ir.rule" id="odoocms_class_comp_rule">
            <field name="name">Component Class multi-company</field>
            <field name="model_id" ref="model_odoocms_class"/>
            <field name="domain_force">['|',('company_id','=',False),('company_id', 'in', company_ids)]</field>
        </record>

        <record model="ir.rule" id="odoocms_lab_comp_rule">
            <field name="name">Lab multi-company</field>
            <field name="model_id" ref="model_odoocms_lab"/>
            <field name="domain_force">['|',('company_id','=',False),('company_id', 'in', company_ids)]</field>
        </record>

        <record model="ir.rule" id="odoocms_lab_ip_comp_rule">
            <field name="name">Lab IP multi-company</field>
            <field name="model_id" ref="model_odoocms_lab_ip"/>
            <field name="domain_force">['|',('company_id','=',False),('company_id', 'in', company_ids)]</field>
        </record>

        <record model="ir.rule" id="odoocms_class_query_comp_rule">
            <field name="name">Class  Query multi-company</field>
            <field name="model_id" ref="model_odoocms_class_query"/>
            <field name="domain_force">['|',('company_id','=',False),('company_id', 'in', company_ids)]</field>
        </record>

        <record model="ir.rule" id="odoocms_class_additional_info_rule">
            <field name="name">Class Additional Info multi-company</field>
            <field name="model_id" ref="model_odoocms_class_additional_info"/>
            <field name="domain_force">['|',('company_id','=',False),('company_id', 'in', company_ids)]</field>
        </record>

        <record model="ir.rule" id="odoocms_class_books_comp_rule">
            <field name="name">Class Books multi-company</field>
            <field name="model_id" ref="model_odoocms_class_books"/>
            <field name="domain_force">['|',('company_id','=',False),('company_id', 'in', company_ids)]</field>
        </record>

        <record model="ir.rule" id="odoocms_class_breakdown_comp_rule">
            <field name="name">Class Breakdown multi-company</field>
            <field name="model_id" ref="model_odoocms_class_breakdown"/>
            <field name="domain_force">['|',('company_id','=',False),('company_id', 'in', company_ids)]</field>
        </record>

        <record model="ir.rule" id="odoocms_class_resource_comp_rule">
            <field name="name">Class Resource multi-company</field>
            <field name="model_id" ref="model_odoocms_class_resource"/>
            <field name="domain_force">['|',('company_id','=',False),('company_id', 'in', company_ids)]</field>
        </record>

        <record model="ir.rule" id="odoocms_class_news_comp_rule">
            <field name="name">Class News multi-company</field>
            <field name="model_id" ref="model_odoocms_class_news"/>
            <field name="domain_force">['|',('company_id','=',False),('company_id', 'in', company_ids)]</field>
        </record>

        <record model="ir.rule" id="odoocms_batch_term_comp_rule">
            <field name="name">Batch Term multi-company</field>
            <field name="model_id" ref="model_odoocms_batch_term"/>
            <field name="domain_force">['|',('company_id','=',False),('company_id', 'in', company_ids)]</field>
        </record>

        <record model="ir.rule" id="odoocms_batch_term_section_comp_rule">
            <field name="name">Batch Term Section multi-company</field>
            <field name="model_id" ref="model_odoocms_batch_term_section"/>
            <field name="domain_force">['|',('company_id','=',False),('company_id', 'in', company_ids)]</field>
        </record>

        <record model="ir.rule" id="odoocms_change_course_info_comp_rule">
            <field name="name">Change course Info multi-company</field>
            <field name="model_id" ref="model_odoocms_change_course_info"/>
            <field name="domain_force">['|',('company_id','=',False),('company_id', 'in', company_ids)]</field>
        </record>

        <record model="ir.rule" id="odoocms_student_courses_shift_comp_rule">
            <field name="name">Student Courses Shift multi-company</field>
            <field name="model_id" ref="model_odoocms_student_courses_shift"/>
            <field name="domain_force">['|',('company_id','=',False),('company_id', 'in', company_ids)]</field>
        </record>

        <record model="ir.rule" id="odoocms_student_course_shift_comp_rule">
            <field name="name">Student Course Shift multi-company</field>
            <field name="model_id" ref="model_odoocms_student_course_shift"/>
            <field name="domain_force">['|',('company_id','=',False),('company_id', 'in', company_ids)]</field>
        </record>

<!--        <record model="ir.rule" id="odoocms_migration_comp_rule">-->
<!--            <field name="name">Migration multi-company</field>-->
<!--            <field name="model_id" ref="base.model_odoocms_migration"/>-->
<!--            <field name="domain_force">['|',('company_id','=',False),('company_id', 'in', company_ids)]</field>-->
<!--        </record>-->

        <record model="ir.rule" id="odoocms_student_course_comp_rule">
            <field name="name">Student Course multi-company</field>
            <field name="model_id" ref="model_odoocms_student_course"/>
            <field name="domain_force">['|',('company_id','=',False),('company_id', 'in', company_ids)]</field>
        </record>

        <record model="ir.rule" id="odoocms_student_course_withdraw_comp_rule">
            <field name="name">Student Course Withdraw multi-company</field>
            <field name="model_id" ref="model_odoocms_student_course_withdraw"/>
            <field name="domain_force">['|',('company_id','=',False),('company_id', 'in', company_ids)]</field>
        </record>

        <record model="ir.rule" id="odoocms_student_term_comp_rule">
            <field name="name">Student Term multi-company</field>
            <field name="model_id" ref="model_odoocms_student_term"/>
            <field name="domain_force">['|',('company_id','=',False),('company_id', 'in', company_ids)]</field>
        </record>
    </data>
</odoo>

