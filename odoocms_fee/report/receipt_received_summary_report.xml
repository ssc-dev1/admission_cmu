<odoo>
    <template id="odoocms_fee.receipt_received_summary_report">
        <t t-call="web.basic_layout">
            <style>
                #invoice-report {
                font-family: "Trebuchet MS", Arial, Helvetica, sans-serif;
                border-collapse: collapse;
                width: 100%;
                }

                #invoice-report td, #invoice-report th {
                border: 1px solid #ddd;
                padding: 8px;
                text-align:center;
                }

                #invoice-report tr:nth-child(even){background-color: #f2f2f2;}

                #invoice-report tr:hover {background-color: #ddd;}

                #invoice-report th {
                padding-top: 12px;
                padding-bottom: 12px;
                background-color: #17134e;
                color: white;
                }

                #top-info {
                font-family: "Trebuchet MS", Arial, Helvetica, sans-serif;
                border-collapse: collapse;
                width: 100%;
                margin-top:15px;
                display: inline;
                }

                #top-info td, #personal-info th {
                padding: 3px;
                }
            </style>

            <div class="page" style='font-size: 14px; padding:10px; margin:5em; font-family: "Times New Roman", Times, serif;'>
                <div>
                    <div class="col col-12" style="font-size:25px; font-weight:bold; text-align:center;">
                        <span style="border-bottom:1px solid" t-esc="company.name" t-if="company.name"/>
                    </div>
                </div>
                <div>
                    <div class="col col-12" style="font-size:18px; font-weight:bold; text-align:center;">
                        <span style="border-bottom:1px solid">
                            Receipt Received Summary Report
                        </span>
                    </div>
                </div>

                <table id="top-info">
                    <tr>
                        <td style="font-weight:bold;">Date From:</td>
                        <td>
                            <span style="margin-right:10px;" t-esc="date_from"/>
                        </td>
                        <td style="font-weight:bold;">Date To:</td>
                        <td>
                            <span style="margin-right:10px;" t-esc="date_to"/>
                        </td>
                    </tr>

                </table>

                <table id="invoice-report">
                    <tr style="text-align:center">
                        <th style="width:10%">Sr. No</th>
                        <th style="width:15%">Transaction Date</th>
                        <th style="width:10%">No of Challan</th>
                        <th style="tet-align:center; width:15%">Invoiced Amount</th>
                        <th style="tet-align:center; width:15%">Received Amount</th>
                        <th style="tet-align:center; width:15%">Deficit/(Surplus)</th>
                    </tr>
                    <t t-foreach="date_wise_amount" t-as="inv">
                        <tr style="font-size:12px;">
                            <td>
                                <span t-esc="inv_index+1"/>
                            </td>
                            <td>
                                <span t-esc="inv['date']"/>
                            </td>
                            <td style="text-align:right">
                                <span t-esc="'{0:,.2f}'.format(inv['total_rec'])"/>
                            </td>
                            <td style="text-align:right">
                                <span t-esc="'{0:,.2f}'.format(inv['invoiced_amount'])"/>
                            </td>
                            <td style="text-align:right">
                                <span t-esc="'{0:,.2f}'.format(inv['received_amount'])"/>
                            </td>

                            <t t-if="inv['diff_amount'] &gt; 0">
                                <td style="text-align:right;background-color: #CBC3E3;">
                                    <span t-esc="'{0:,.2f}'.format(inv['diff_amount'])"/>
                                </td>
                            </t>
                            <t t-if="inv['diff_amount'] &lt; 0">
                                <td style="text-align:right;background-color: #FFFF00;">
                                    <span t-esc="'{0:,.2f}'.format(inv['diff_amount'])"/>
                                </td>
                            </t>
                            <t t-if="inv['diff_amount'] == 0">
                                <td style="text-align:right;">
                                    <span t-esc="'{0:,.2f}'.format(inv['diff_amount'])"/>
                                </td>
                            </t>
                        </tr>
                    </t>
                    <tr style="font-weight:bold;font-size:12px;">
                        <td colspan="3">Grand Total</td>
                        <td style="text-align:right">
                            <span t-esc="'{0:,.2f}'.format(total_invoiced_amount)"/>
                        </td>
                        <td style="text-align:right">
                            <span t-esc="'{0:,.2f}'.format(total_received_amount)"/>
                        </td>
                        <td style="text-align:right">
                            <span t-esc="'{0:,.2f}'.format(total_diff_amount)"/>
                        </td>
                    </tr>
                </table>
                <div class="row" style="margin-top:4em; text-align:center">
                    <div class="col col-3">
                        <span>Prepared By</span>
                        <br/>
                        <span>Office Assist</span>
                    </div>
                    <div class="col col-3">
                        <span>Checked By</span>
                        <br/>
                        <span>Accountant</span>
                    </div>
                    <div class="col col-3">
                        <span>Verified By</span>
                        <br/>
                        <span>Assistant Director Finance</span>
                    </div>
                    <div class="col col-3">
                        <span>Approved By</span>
                        <br/>
                        <span>Additional Director</span>
                    </div>
                </div>

                <table class='table table-condensed' width='100%'>
                    <tbody>
                        <tr>
                            <td>
                                <span style="font-weight:bold;font-size:11px;">Print Date:</span>
                            </td>
                            <td style="font-weight:bold;font-size:11px;">
                                <span style="padding-left:5px;" t-esc="context_timestamp(datetime.datetime.now()).strftime('%d-%m-%Y %H:%M')"/>
                            </td>
                            <td style="font-weight:bold;font-size:11px;">
                                <span>Print User:</span>
                            </td>
                            <td style="font-weight:bold;font-size:11px;">
                                <span style="padding-left:5px;" t-esc="request.env.user.name"/>
                            </td>
                        </tr>
                    </tbody>
                </table>

            </div>
        </t>
    </template>

</odoo>
